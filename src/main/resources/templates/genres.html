<html>
<!-- je vais remplacer le contenu de ma balise avec celui de la balise head de mon template : fragments/template.html -->
<head th:replace="fragments/template :: head('Gestion des genres')"></head>

<body>
	<!-- je vais remplacer le contenu de ma balise avec celui de la balise head de mon template : fragments/template.html -->
	<nav th:replace="fragments/template :: nav"></nav>
	
	<!-- section pour afficher les messages de succès ou d'erreur -->
	<section th:replace="fragments/template :: messages"></section>
	
	<h1>Gestion des genres</h1>
	
	<!-- th:object="${genre}" : mon formulaire va envoyer un objet "genre" de type Genre (qui doit être pésent dans le modèle) rempli -->	
	<form th:action="@{/admin/genres}" method="post" th:object="${genre}">
		<section class="form-element">
		<label for="libelle">Libelle : </label>
			<!-- à la place de name j'utilise th:field -->
			<input id="libelle" type="text" th:field="*{libelle}"/>
			<span class="error" th:errors="*{libelle}"></span>
		</section>
		<button>Validation</button>
	</form>

	<h2>Liste des genres</h2>
	<form th:action="@{/admin/genres/delete}" method="post">
	<ul>
		<li th:each="genre : ${listeGenre}">
			<span th:text="|id : ${genre.id}, libelle: ${genre.libelle}|"></span>
			<button name="idGenreDelete" th:value="${genre.id}">❌</button>
		</li>
	</ul>
	</form>
</body>

</html>